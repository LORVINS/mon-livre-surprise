<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Livre Pour Toi</title>
    <style>
        /* Styles généraux pour le corps de la page */
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f0f0; /* Fond neutre */
            overflow: hidden; /* Cache les barres de défilement initialement */
            position: relative; /* Pour positionner les chats en arrière-plan */
        }

        /* Animation des chats en arrière-plan */
        .animated-cat {
            position: absolute;
            opacity: 0.7; /* Légèrement transparent pour l'arrière-plan */
            animation: float 20s infinite ease-in-out; /* Animation de flottement */
            z-index: 0; /* Assure qu'ils sont en arrière-plan */
            pointer-events: none; /* Empêche les clics sur les chats d'arrière-plan */
        }

        /* Chaque chat aura sa propre position et délai d'animation */
        #cat-bg-1 { top: 10%; left: 5%; width: 100px; animation-delay: 0s; }
        #cat-bg-2 { top: 70%; left: 80%; width: 80px; animation-delay: 5s; }
        #cat-bg-3 { top: 40%; left: 30%; width: 120px; animation-delay: 10s; }
        /* Ajoutez plus de chats si vous voulez, avec des positions et délais différents */

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(5deg); }
            50% { transform: translateY(0px) rotate(0deg); }
            75% { transform: translateY(10px) rotate(-5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        /* Écran de mot de passe */
        #password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Fond plus clair */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            color: white;
            text-align: center;
            /* Nouveau style pour une ambiance plus douce */
            background-image: linear-gradient(to bottom, #87CEEB, #add8e6); /* Bleu ciel dégradé */
        }

        #password-screen input {
            padding: 15px;
            margin-top: 30px;
            border: none;
            border-radius: 12px; /* Plus arrondi */
            font-size: 1.3em;
            text-align: center;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            background-color: rgba(255, 255, 255, 0.9); /* Fond légèrement transparent */
            color: #333;
        }

        /* Bouton "Entrer" avec image de chat */
        #password-screen button {
            width: 180px; /* Taille fixe pour le bouton chat */
            height: 100px; /* Hauteur fixe pour le bouton chat */
            margin-top: 25px;
            border: none;
            background: none; /* Pas de fond de couleur, l'image sera le fond */
            cursor: pointer;
            transition: transform 0.2s ease, opacity 0.3s ease;
            position: relative;
            font-size: 1.4em;
            color: #fff;
            overflow: hidden;
            display: flex; /* Utilise flexbox pour centrer le texte */
            justify-content: center;
            align-items: center;
        }

        #password-screen button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('button_cat.png'); /* REMPLACEZ 'button_cat.png' par votre image de bouton chat */
            background-size: contain; /* Ajuste la taille de l'image au bouton */
            background-repeat: no-repeat;
            background-position: center;
            z-index: -1; /* Place l'image derrière le texte */
        }
        
        #password-screen button:hover {
            transform: scale(1.05); /* Léger zoom au survol */
            opacity: 0.9;
        }
        
        #password-screen button span {
            display: block;
            padding: 5px 15px; /* padding pour le texte */
            background-color: rgba(0, 0, 0, 0.4); /* Légèrement sombre pour la lisibilité */
            border-radius: 8px;
            font-weight: bold; /* Texte en gras pour meilleure visibilité */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); /* Ombre pour le texte */
        }


        #password-screen h1 {
            font-size: 3.5em; /* Plus grand */
            margin-bottom: 15px;
            color: #f8f8f8; /* Blanc cassé */
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
        }

        #password-screen p {
            font-size: 1.2em;
            max-width: 70%;
            margin: 15px auto;
            color: #e0f2f7; /* Bleu très clair */
        }

        /* Page de couverture du livre */
        #cover-page {
            width: 100vw;
            height: 100vh;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(to top left, #FFDAB9, #FFE4E1); /* Pêche pâle et rose doux */
            color: #333;
            text-align: center;
            font-size: 2em;
            font-weight: bold;
            position: relative;
            z-index: 500;
            transition: transform 1.2s ease-in-out, opacity 1.2s ease-in-out;
            transform-origin: left center;
            perspective: 1000px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            /* Ajout d'un chat animé spécifique pour la couverture */
            background-image: url('cat_on_cover.png'); /* REMPLACEZ 'cat_on_cover.png' par une image de chat pour la couverture */
            background-size: 20% auto; /* Taille du chat, 'auto' pour conserver le ratio */
            background-repeat: no-repeat;
            background-position: bottom right 5%; /* Position en bas à droite */
        }

        #cover-page.hidden {
            transform: rotateY(-180deg);
            opacity: 0;
            pointer-events: none;
        }

        #cover-page h1 {
            font-size: 4.5em; /* Encore plus grand */
            margin-bottom: 20px;
            color: #5d4037; /* Marron doux */
            text-shadow: 3px 3px 8px rgba(0,0,0,0.2);
        }

        #cover-page h2 {
            font-size: 2em;
            color: #795548; /* Marron plus clair */
            margin-top: 0;
            font-style: italic;
            max-width: 80%;
            line-height: 1.4;
        }
        
        /* Bouton "Clique pour que la page se tourne..." */
        /* Utilisation d'un ID pour plus de spécificité et éviter les conflits */
        #turn-page-button {
            font-size: 1.2em;
            margin-top: 50px; /* Laissez une marge supérieure pour le positionnement */
            color: #f8f8f8; /* Texte blanc */
            background-color: rgba(139, 69, 19, 0.7); /* Marron semi-transparent */
            border: none; /* Plus de bordure */
            padding: 15px 30px;
            border-radius: 30px; /* Très arrondi */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            /* Centre le bouton horizontalement si ce n'est pas déjà fait par flexbox parent */
            align-self: center; /* Assure que le bouton est centré dans le flex container */
            margin-bottom: 20px; /* Ajout d'une marge en bas pour éviter d'être coupé */
            /* Adapter la position si nécessaire avec 'bottom' pour les petits écrans */
        }

        #turn-page-button:hover {
            background-color: rgba(139, 69, 19, 0.9);
            transform: translateY(-5px);
        }

        /* Contenu du livre (PDF) */
        #book-content {
            width: 90vw;
            height: 90vh;
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            box-shadow: 0 0 25px rgba(0, 0, 0, 0.5); /* Ombre plus prononcée */
            border-radius: 10px;
            overflow: hidden;
        }

        #book-content iframe {
            width: 100%;
            height: 100%; /* L'iframe reprend sa taille normale */
            border: none;
        }

        /* Bouton pour passer aux pages interactives (situé APRES le PDF) */
        #start-interactive-btn {
            /* Styles généraux pour un bouton type "quiz" */
            background-color: #4CAF50; /* Vert pour l'action principale */
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px; /* Arrondi comme un bouton de quiz */
            font-size: 1.5em; /* Grande taille */
            cursor: pointer;
            margin-top: 30px;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Ombre plus marquée */
            
            display: none; /* Caché par défaut, affiché par JS après le PDF */
            z-index: 1; /* S'assure qu'il est au-dessus des chats de fond */
            position: absolute; /* Positionnement absolu par rapport au body */
            top: calc(50% + 45vh + 30px); /* Ajuste la position sous le PDF */
            left: 50%;
            transform: translate(-50%, -50%); /* Centre le bouton */
        }

        #start-interactive-btn:hover {
            background-color: #45a049; /* Vert plus foncé au survol */
            transform: translate(-50%, -50%) translateY(-3px); /* Effet de léger décalage vers le haut + maintien du centrage */
        }

        /* Les spans ou autres éléments à l'intérieur du bouton sont gérés par le style général si besoin,
           mais avec le style "quiz", on a juste du texte direct. */
        #start-interactive-btn span {
            /* Pas de style spécifique nécessaire si le texte est directement dans le bouton */
            /* Si vous voulez un span pour le texte, gardez-le et stylisez-le ici */
        }


        /* Section des pages interactives */
        #interactive-story-section {
            width: 90vw;
            max-width: 700px; /* Limite la largeur pour une meilleure lisibilité */
            min-height: 80vh; /* Hauteur minimale */
            display: none; /* Caché au début */
            flex-direction: column;
            justify-content: center; /* Centre verticalement */
            align-items: center;
            background: linear-gradient(to top, #ffebee, #ffcdd2); /* Dégradé rose très doux */
            color: #333;
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: absolute; /* Pour qu'il puisse apparaître au-dessus du reste */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100; /* Au-dessus du PDF */
        }

        .interactive-page {
            display: none; /* Caché par défaut */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        .interactive-page img {
            max-width: 80%; /* Pour les GIFs */
            height: auto;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }

        .interactive-page p {
            font-size: 1.8em;
            color: #4A148C; /* Violet foncé */
            margin-bottom: 40px;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .interactive-page button {
            /* Réutilise le même style que le bouton start-interactive-btn pour la cohérence */
            background-color: #4CAF50; /* Vert pour l'action principale */
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.5em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .interactive-page button:hover {
            background-color: #45a049;
            transform: translateY(-3px);
        }

        /* Message final */
        #final-message {
            font-size: 2.5em;
            color: #6A1B9A; /* Violet encore plus foncé */
            font-weight: bold;
            text-align: center;
            display: none; /* Caché par défaut */
        }

        /* Responsive design pour les petits écrans */
        @media (max-width: 768px) {
            #cover-page h1 { font-size: 2.5em; }
            #cover-page h2 { font-size: 1.2em; }
            #password-screen h1 { font-size: 2em; }
            #password-screen p { font-size: 1em; }
            #password-screen input { font-size: 1em; padding: 10px; }
            #password-screen button { width: 140px; height: 80px; font-size: 1.2em;} /* Plus petit sur mobile */
            #password-screen button span { padding: 3px 10px; }
            #turn-page-button { font-size: 1em; padding: 12px 25px; margin-top: 30px; margin-bottom: 10px; } /* Ajuster pour mobile */
            
            #book-content { width: 95vw; height: 95vh; }
            #book-content iframe { height: 100%; } /* L'iframe reprend toute la place */
            
            #start-interactive-btn { 
                width: 150px; 
                height: auto; /* Laisse la hauteur s'adapter au padding */
                font-size: 1.2em; 
                padding: 12px 25px; /* Ajuste le padding pour mobile */
                margin-top: 10px; /* Moins de marge pour mobile */
                top: calc(50% + 47.5vh + 10px); /* Ajuste pour mobile, 95vh/2 + moitié de la hauteur du bouton */
            }
            /* Pour le texte du bouton, on enlève le span si on veut le style "quiz" direct */
            #start-interactive-btn span {
                display: initial; /* Cache le span car le texte est directement dans le bouton */
            }

            #interactive-story-section {
                width: 95vw;
                padding: 20px;
                min-height: 70vh;
            }
            .interactive-page img { max-width: 90%; margin-bottom: 20px; }
            .interactive-page p { font-size: 1.4em; margin-bottom: 30px; }
            .interactive-page button { font-size: 1.4em; padding: 12px 30px; }
            #final-message { font-size: 1.8em; }
            .animated-cat { width: 60px !important; } /* Plus petits sur mobile */
        }
    </style>
</head>
<body>

    <img src="cat1.gif" alt="chat animé 1" class="animated-cat" id="cat-bg-1">
    <img src="cat2.gif" alt="chat animé 2" class="animated-cat" id="cat-bg-2">
    <img src="cat3.gif" alt="chat animé 3" class="animated-cat" id="cat-bg-3">

    <div id="password-screen">
        <h1>Pour toi, et toi seule...</h1>
        <p>Ce livre est un message très personnel. Pour accéder à son contenu, merci de saisir la date du 1er b.</p>
        <input type="password" id="passwordInput" placeholder="Saisis le mot de passe">
        <button onclick="checkPassword()"><span>Entrer</span></button>
        <p id="errorMessage" style="color: #ff9800; margin-top: 15px; font-weight: bold;"></p>
    </div>

    <div id="cover-page">
        <h1>Mon Livre Pour Toi</h1>
        <h2>Notre Histoire : Le Chemin de Mon Cœur Vers Ton Pardon</h2>
        <p id="turn-page-button">Clique pour tourner la page...</p>
    </div>

    <div id="book-content">
        <iframe src="https://docs.google.com/gview?url=https://LORVINS.github.io/mon-livre-surprise/Je-tai-perdue-mais-pas-mon-espoir_Livre_finalV5.pdf&embedded=true" style="width:100%; height:100%;" frameborder="0">
        <p style="text-align: center; color: #555; margin-top: 50px;">
        Désolé, votre navigateur ne peut pas afficher les PDF directement. 
        <br>Vous pouvez télécharger le livre ici : 
        <a href="https://LORVINS.github.io/mon-livre-surprise/Je-tai-perdue-mais-pas-mon-espoir_Livre_finalV5.pdf" style="color: #e91e63; text-decoration: none; font-weight: bold;" target="_blank">Cliquez ici pour télécharger le Livre</a>
        </p>
        </iframe>
    </div>
    
    <button id="start-interactive-btn">Commencer une surprise !</button>

    <div id="interactive-story-section">
        <div id="page-1" class="interactive-page">
            <img src="cat_battle.gif" alt="Chat surprise 1">
            <p>Mon amour, après ce livre, j'ai une petite surprise pour toi...</p>
            <button class="next-page-btn">Suivant</button>
        </div>
        <div id="page-2" class="interactive-page">
            <img src="cat_on_cover.gif" alt="Chat surprise 2">
            <p>J'espère que ce livre t'a montré à quel point je tiens à toi, malgré tout.</p>
            <button class="next-page-btn">Suivant</button>
        </div>
        <div id="page-3" class="interactive-page">
            <img src="cat_wait_for_ever_formylove.gif" alt="Chat surprise 3">
            <p>Chaque jour sans toi est un défi. Je sais que j'ai eu des tort et je le regrette, et je me suis mis en question...</p>
            <button class="next-page-btn">Suivant</button>
        </div>
        <div id="final-message" style="display: none;">
            <p>...que mon amour pour toi est éternel. ❤️</p>
        </div>
    </div>

    <script>
        // *** IMPORTANT : REMPLACEZ "tonmotdepasse" par le mot de passe de votre choix ***
        const correctPassword = "2803"; 
        
        const passwordInput = document.getElementById("passwordInput");
        const errorMessage = document.getElementById("errorMessage");
        const passwordScreen = document.getElementById("password-screen");
        const coverPage = document.getElementById("cover-page");
        const bookContent = document.getElementById("book-content");

        const startInteractiveBtn = document.getElementById("start-interactive-btn");
        const interactiveStorySection = document.getElementById("interactive-story-section");
        const interactivePages = document.querySelectorAll('.interactive-page');
        const finalMessage = document.getElementById('final-message');
        let currentPageIndex = 0;

        // Fonction pour vérifier le mot de passe
        function checkPassword() {
            if (passwordInput.value === correctPassword) {
                passwordScreen.style.display = "none"; // Cache l'écran du mot de passe
                coverPage.style.display = "flex"; // Affiche la page de couverture
                document.body.style.overflow = "hidden"; // S'assure que le corps n'a pas de scroll
            } else {
                errorMessage.textContent = "Mot de passe incorrect. Réessaie, mon amour..."; // Message personnalisé
            }
        }

        // Écoute le clic sur la page de couverture pour lancer l'animation
        document.getElementById("turn-page-button").addEventListener("click", function() {
            coverPage.classList.add("hidden"); // Ajoute la classe pour l'animation de rotation
            setTimeout(() => {
                coverPage.style.display = "none"; // Cache la couverture après l'animation
                bookContent.style.display = "block"; // Affiche le contenu du livre (PDF)
                startInteractiveBtn.style.display = "block"; // Affiche le bouton "Commencer une surprise !"
                document.body.style.overflow = "auto"; // Réactive les barres de défilement si le PDF en a besoin
            }, 1200); // Attend que l'animation de 1.2s soit terminée
        });

        // Permet d'appuyer sur la touche Entrée pour valider le mot de passe
        passwordInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                checkPassword();
            }
        });

        // --- Fonctionnalité des pages interactives ---

        // Affiche la page interactive actuelle
        function showCurrentPage() {
            interactivePages.forEach((page, index) => {
                if (index === currentPageIndex) {
                    page.style.display = 'flex'; // Affiche la page actuelle
                } else {
                    page.style.display = 'none'; // Cache les autres pages
                }
            });
            finalMessage.style.display = 'none'; // Cache le message final au cas où
        }

        // Gère le clic sur le bouton "Commencer une surprise !"
        startInteractiveBtn.addEventListener("click", function() {
            bookContent.style.display = "none"; // Cache le conteneur du PDF
            startInteractiveBtn.style.display = "none"; // Cache le bouton lui-même
            interactiveStorySection.style.display = "flex"; // Affiche la section des pages interactives
            document.body.style.overflow = "hidden"; // Cache les barres de défilement pour cette section
            currentPageIndex = 0; // Réinitialise à la première page
            showCurrentPage(); // Affiche la première page
        });

        // Gère le clic sur les boutons "Suivant"
        document.querySelectorAll('.next-page-btn').forEach(button => {
            button.addEventListener("click", function() {
                currentPageIndex++;
                if (currentPageIndex < interactivePages.length) {
                    showCurrentPage(); // Passe à la page suivante
                } else {
                    // Fin de toutes les pages interactives
                    interactivePages.forEach(page => page.style.display = 'none'); // Cache toutes les pages
                    finalMessage.style.display = 'block'; // Affiche le message final
                    // Vous pouvez ajouter une redirection ici, ou un autre comportement
                    // Par exemple: setTimeout(() => window.location.href = "merci.html", 3000);
                }
            });
        });

    </script>
</body>
</html>
